# SAS的MERGE坑

> 单独将MERGE单独拿出来，是因为SAS的MERGE在使用的时候，容易陷入经验的误区，掉坑。

## 数据关联
一般而言，数据关联包括：自然连接、内连接、外连接(全连接、左连接、右连接)

自然连接 在两个表的相同属性组上进行笛卡尔积关联，并且在结果中把重复的属性列去掉，在关联时，不显式的指定属性列
内连接	组合两个表中的记录，返回关联字段相符的记录，也就是返回两个表的交集（阴影）部分
外连接
- 左连接，左表(a_table)的记录将会全部表示出来，而右表(b_table)只会显示符合搜索条件的记录。右表记录不足的地方均为NULL
- 右连接，与左(外)连接相反，右(外)连接，左表(a_table)只会显示符合搜索条件的记录，而右表(b_table)的记录将会全部表示出来。左表记录不足的地方均为NULL
- 全连接，显示左表和右表的并集，左表或右表记录不足的地方均为NULL

## SAS中MERGE的语法
这里，先概述SAS中MERGE的语法，然后指出和常识认识的差异。我们以两张表来距离， A MERGE B ON cols
1. A和B均在cols上唯一
不存在歧义

2. A在cols上不唯一， B在cols上唯一

3. A在cols上唯一，B在cols上不唯一

4. A、B在cols上均不唯一，这就是所谓的多对多的MERGE


所以，也反应，接触一门新语言的时候，还是要认真看关键字的使用说明，不然，很容易掉入语言设计缺陷的坑里。


## 参考文献
1. [图解MySQL 内连接、外连接、左连接、右连接、全连接](https://blog.csdn.net/plg17/article/details/78758593)
2. [数据合并MERGE全攻略](http://bbs.pinggu.org/thread-4647057-1-1.html)
